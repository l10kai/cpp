零配件1，2，3合成半成品1；零配件4，5，6合成半成品2；零配件7，8合成半成品3；半成品1，2，3合成成品



分为4个节点：

1.每个零配件是否检测

2.每个半成品是否检测

3.成品检测成品是否检测，以及检测后是否拆解

4.退回的不合格品是否再次拆解



半成品1次品率 = 1- （1 - 零配件1次品率）* （1 - 零配件2次品率）*（1 - 零配件3次品率）

其他的半成品也类似

成品次品率 = 1- （1 - 半成品1次品率）* （1 - 半成品2次品率）*（1 - 半成品3次品率）

检测成本= 零配件检测成本 + 半成品检测成本 + 成品检测成本

装配成本= 半成品装配成本 + 成品装配成本



处理成本 = 调换损失 + 拆解费用



dp:



状态表示：

f(i,j)：在第i个节点，决策为j的最小成本



状态转移：

f(i,j) = min(检测成本 + 装配成本 + f(下一个状态))



(1) 对零配件（1~8）是否进行检测，如果对某种零配件不检测，这 种零配件将直接进入到半成品装配环节；否则将检测出的不合格零配件丢弃；

 (2) 对装配好的每一件半成品是否进行检测，如果不检测，装配为成品； 否则将不合格半成品丢弃；

 (3) 对装配好的每一件成品是否进行检测，如果不检测，装配后的成品直接进入到市场； 否则只有检测合格的成品进入到市场；

 (4) 对检测出的不合格成品是否进行拆解，如果不拆解，直接将不合格成品丢弃；否则 对拆解后的零配件，重复步骤(1)和步骤(2)，步骤(3)；

 (5) 对用户购买的不合格品，企业将无条件予以调换，并产生一定的调换损失（如物流 成本、企业信誉等）。对退回的不合格品，重复步骤(4)。